{% extends "base.html" %}

{% block title %}Edit profile{% endblock title %}

{% block head %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/student/edit_profile.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <h2>Edit Profile</h2>

    <form method="POST" action="/edit_student_profile">
      <label>First Name*:</label>
      <input type="text" name="first_name" value="{{ student.first_name }}" required>

      <label>Middle Name:</label>
      <input type="text" name="middle_name" value="{{ student.middle_name }}">

      <label>Last Name*:</label>
      <input type="text" name="last_name" value="{{ student.last_name }}" required>

      <label>School ID*:</label>
      <input type="text" name="school_id" value="{{ student.school_ID }}" required>

      <label>Section*:</label>
      <input type="text" name="section" value="{{ student.section }}" required>

      <label for="course_level">Course Level*:</label>
      <select id="course_level" name="course_level">
        <option value="1" {% if student.course_level == '1' %}selected{% endif %}>1st Year</option>
        <option value="2" {% if student.course_level == '2' %}selected{% endif %}>2nd Year</option>
        <option value="3" {% if student.course_level == '3' %}selected{% endif %}>3rd Year</option>
        <option value="4" {% if student.course_level == '4' %}selected{% endif %}>4th Year</option>
        <option value="5" {% if student.course_level == '5' %}selected{% endif %}>5th Year</option>
        <option value="6" {% if student.course_level == '6' %}selected{% endif %}>6th Year</option>
      </select>

      <label>COR Link*:</label>
      <input type="text" name="cor_link" value="{{ student.COR_link }}" required>

      <label>Email (username)*:</label>
      <input type="email" value="{{ student.email }}" disabled>

      <button type="submit">Save Changes</button>
    </form>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="message">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <div class="links">
      <a href="/student_profile">Back to Profile</a> |
      <a href="/logout">Logout</a>
    </div>
  </div>
{% endblock content %}